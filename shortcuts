./stop-dev.sh && sleep 3 && ./SIMPLE-START.sh

npm run test:ui
npm run test:run     # Tests einmal ausf√ºhren
npm run test         # Tests im Watch-Mode
npm run test:coverage # Coverage Report

release:
claude.md √ºberpr√ºfen - da steht workflow

Test123
Test12345

/plugin marketplace add anthropics/claude-code

 Jetzt kannst du einfach sagen:
  - "/test-users" oder "erstelle test user" ‚Üí Ich f√ºhre
  kompletten Workflow aus
  - "npm run test-users:full" ‚Üí Macht alles automatisch



Perfekt! Jetzt kann ich die korrekte Berechnung machen:

  Test Workflow - Dezember 2025 Berechnung

  Ist-Stunden (aus DB):

  | Datum | Tag | Stunden |
  |-------|-----|---------|
  | 02.12 | Di  | 10.0h   |
  | 03.12 | Mi  | 8.0h    |
  | 04.12 | Do  | 6.0h    |
  | 05.12 | Fr  | 8.0h    |
  | 06.12 | Sa  | 6.0h    |
  | 09.12 | Di  | 11.0h   |
  | 10.12 | Mi  | 9.0h    |
  | 11.12 | Do  | 7.0h    |
  | 12.12 | Fr  | 9.0h    |
  | 13.12 | Sa  | 7.0h    |
  | 16.12 | Di  | 10.0h   |
  | 17.12 | Mi  | 8.0h    |
  | 23.12 | Di  | 10.0h   |
  | 24.12 | Mi  | 8.0h    |
  | 30.12 | Di  | 10.0h   |
  | 31.12 | Mi  | 8.0h    |

  Summe Ist-Stunden: 135h

  Soll-Stunden (workSchedule: Mo 10h, Di 8h, Mi 6h, Do 8h, Fr 6h):

  Dezember 2025 Arbeitstage:
  - Montage: 01, 08, 15, 22, 29 = 5 √ó 10h = 50h
  - Dienstage: 02, 09, 16, 23, 30 = 5 √ó 8h = 40h
  - Mittwoche: 03, 10, 17, 24, 31 = 5 √ó 6h = 30h
  - Donnerstage: 04, 11, 18, 25 (Feiertag) = 3 √ó 8h = 24h
  - Freitage: 05, 12, 19, 26 (Feiertag) = 3 √ó 6h = 18h

  Summe Soll-Stunden: 162h

  √úberstunden:

  135h (Ist) - 162h (Soll) = -27h

  Test Workflow hat im Dezember 2025 -27 Minusstunden!

  Zeigt das System -42h an? Dann gibt es definitiv einen Berechnungsfehler!



‚è∫ ‚úÖ OVERTIME VALIDATION - Test Workflow Dezember 2025

  üìä Zusammenfassung

  User: Test Workflow (ID: 155)Zeitraum: 01.12.2025 -
  31.12.2025Hire Date: 01.12.2025

  Individuelle Arbeitszeiten:

  - Montag: 10h
  - Dienstag: 8h
  - Mittwoch: 6h
  - Donnerstag: 8h
  - Freitag: 6h
  - Wochenende: 0h (kein Arbeitstag!)

  ---
  üìã Berechnungsdetails

  Soll-Stunden (Target):

  - 20 Arbeitstage im Dezember 2025
  - 2 Feiertage: 25.12 + 26.12 (Weihnachten)
  - Total Target: 156h

  Ist-Stunden (Actual):

  Gearbeitete Stunden: 135h
  - 16 Zeiteintr√§ge von 02.12 bis 31.12
  - T√§glich zwischen 3h und 11h

  Abwesenheiten (3):
  1. Krankheit: 18.12-19.12 (Do+Fr) ‚Üí +14h Gutschrift
    - 8h (Do) + 6h (Fr) = 14h
  2. √úberstundenausgleich: 20.12 (Sa) ‚Üí 0h (Wochenende!)
  3. √úberstundenausgleich: 27.12 (Sa) ‚Üí 0h (Wochenende!)

  Overtime Corrections: 0h

  Total Actual: 135h + 14h + 0h = 149h

  ---
  üßÆ Endergebnis

  Soll-Stunden (Target):          156h
  Unbezahlter Urlaub (Reduktion): -0h
  Angepasstes Soll:               156h

  Gearbeitete Stunden:            135h
  Abwesenheits-Gutschriften:      +14h
  √úberstunden-Korrekturen:        +0h
  Ist-Stunden (Actual):           149h

  √úBERSTUNDEN (Ist - Soll):       -7h

  ---
  ‚úÖ Database Verification

  Database Comparison:
  - Expected Target: 156h | DB Target: 156h | ‚úÖ MATCH
  - Expected Actual: 149h | DB Actual: 149h | ‚úÖ MATCH
  - Expected Overtime: -7h | DB Overtime: -7h | ‚úÖ MATCH

  Status: Alle Werte stimmen perfekt √ºberein! Die
  √úberstunden-Berechnung ist korrekt.

  ‚è∫ üìã ZUSAMMENFASSUNG - JANUAR 2026 BERECHNUNG

  ‚úÖ WAS IN DIE BERECHNUNG EINFLIESST:

  1. SOLL-STUNDEN (98h):

  - Basis: Arbeitstage √ó workSchedule-Stunden
    - 3 Montage √ó 10h = 30h
    - 2 Dienstage √ó 8h = 16h (20.01 wird sp√§ter reduziert)
    - 3 Mittwoche √ó 6h = 18h (21.01 wird sp√§ter reduziert)
    - 3 Donnerstage √ó 8h = 24h
    - 4 Freitage √ó 6h = 24h
    - Zwischensumme: 112h
  - Abz√ºge:
    - Feiertage: 01.01 (Do, 8h) + 06.01 (Di, 8h) = Bereits 0h
  in Basis ‚úÖ
    - Unbezahlter Urlaub: 20.01 (Di, -8h) + 21.01 (Mi, -6h) =
  -14h
  - FINALES SOLL: 112h - 14h = 98h ‚úÖ

  2. IST-STUNDEN (90.5h):

  - Gearbeitet (76.5h):
    - 10 Tage mit time_entries
    - Inkl. Samstag (03.01, 6h) und Feiertag (06.01, 8h) =
  Plusstunden!
  - Gutschriften (+14h):
    - Urlaub 14.01 (Mi): +6h
    - Urlaub 15.01 (Do): +8h
  - FINALES IST: 76.5h + 14h = 90.5h ‚úÖ

  3. √úBERSTUNDEN:

  - 90.5h - 98h = -7.5h ‚úÖ

  ---
  ‚ùå WARUM FRONTEND FALSCH LIEGT (-20:30 statt -14:30):

  Das Problem ist die Kumulierung √ºber Monate:

  | Monat    | Balance (korrekt) | Transactions (falsch) |
  Differenz |
  |----------|-------------------|-----------------------|-----
  ------|
  | Dezember | -7h               | -13h                  | -6h
  ‚ùå     |
  | Januar   | -7.5h             | -7.5h                 | 0h
  ‚úÖ      |
  | SUMME    | -14.5h ‚úÖ          | -20.5h ‚ùå              |
  -6h ‚ùå     |

  Die -6h Diskrepanz kommt aus Dezember, weil die earned
  Transactions die Kranken-Gutschriften NICHT korrekt in die
  Balance einrechnen!
